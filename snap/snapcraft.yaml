name: ltext # you probably want to 'snapcraft register <name>'
base: core22 # the base snap is the execution environment for this snap
version: '0.1.4' # just for humans, typically '1.2+git' or '1.3.2'
summary: general-purpose text-file templating utility # 79 char long summary
description: |
  ltext is a generic templating tool for any text file. For languages that
  don't support import-style code-reuse, it's common to just copy/paste.
  However, after a change is needed, that change must be replicated manually
  to every file needing it. With ltext, you parameterize the files themselves,
  and let ltext do the pasting.

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: strict # use 'strict' once you have the right plugs and slots

apps:
  ltext:
    command: bin/ltext

parts:
  ltext:
    plugin: nil
    source: .
    build-environment:
      - PATH: "/root/.local/bin:$PATH"
    override-build: |
      curl -sSL https://get.haskellstack.org/ | sh 
      which stack
      stack --version
      stack install
    stage-packages:
      - libc-bin
      - libgmp10
      - libcurl4
      - curl
